

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Volume Flow Rate Flow Calibration &mdash; MSP Ultrasonic Sensing Library Users Guide 02_40_00_00 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="MSP Ultrasonic Sensing Library Users Guide 02_40_00_00 documentation" href="../index.html"/>
        <link rel="next" title="Generating Interpolation Correction Look-up table" href="InterpLUT.html"/>
        <link rel="prev" title="Enabling High Water Flow applications" href="HighFlow.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  <header id="tiHeader">
    <div class="top">
      <ul>
        <li id="top_logo">
          <a href="http://www.ti.com">
            <img src="../_static/img/ti_logo.png"/>
          </a>
        </li>
      </ul>
    </div>
    <div class="nav"></div>
  </header>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> MSP Ultrasonic Sensing Library Users Guide
          

          
          </a>

          
            
            
              <div class="version">
                02_40_00_00
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Whats_supported.html">What is supported by the library?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Understanding.html">Understanding the Ultrasonic Sensing Solution Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="CodeExamples.html">Code Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="Calibrations.html">Library Calibrations Routines</a></li>
<li class="toctree-l1"><a class="reference internal" href="HighFlow.html">Enabling High Water Flow applications</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Volume Flow Rate Flow Calibration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#enabling-vfr-flow-calibration-on-uss-sw-library-configuration-file-2-30-and-later">Enabling VFR Flow calibration on USS SW Library configuration file 2_30 and later</a></li>
<li class="toctree-l2"><a class="reference internal" href="#enabling-vfr-flow-calibration-on-uss-sw-library-configuration-file-earlier-than-2-30">Enabling VFR Flow calibration on USS SW Library configuration file earlier than 2_30</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="InterpLUT.html">Generating Interpolation Correction Look-up table</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptimLib.html">Using the memory optimized libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="BestPract.html">USS SW Library best practices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MSP Ultrasonic Sensing Library Users Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Volume Flow Rate Flow Calibration</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="volume-flow-rate-flow-calibration">
<h1>Volume Flow Rate Flow Calibration<a class="headerlink" href="#volume-flow-rate-flow-calibration" title="Permalink to this headline">¶</a></h1>
<p>Volume Flow Rate (VFR) Flow calibration functionality in the library is enabled by providing Meter VFR calibration data via the <code class="docutils literal notranslate"><span class="pre">USS_config\USS_meterVFRCalibFlow.h</span></code> file. For more details regarding recommended procedure to obtain Volume Flow Rate calibration data please refer to the Ultrasonic Design Center Quick Start Guide.</p>
<p>The image below shows which slope and offset will be applied to each calibration zone. If iq16minimumVFR (minimum VFR for corresponding range) falls outside the calibrated regions, the library will use the range 0’s meter constants.</p>
<div class="figure" id="id1">
<img alt="MC\_VFR\_Calibration\_Concept" src="../_images/MC_VFR_Calibration_Concept.png" />
<p class="caption"><span class="caption-number">Fig. 9 </span><span class="caption-text">MC_VFR_Calibration_Concept</span></p>
</div>
<div class="section" id="enabling-vfr-flow-calibration-on-uss-sw-library-configuration-file-2-30-and-later">
<h2>Enabling VFR Flow calibration on USS SW Library configuration file 2_30 and later<a class="headerlink" href="#enabling-vfr-flow-calibration-on-uss-sw-library-configuration-file-2-30-and-later" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>In <code class="docutils literal notranslate"><span class="pre">USS_Config\USS_userConfig.h</span></code><ul>
<li>Set<ul>
<li><code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">USS_ALG_VFR_CALIB_MODE</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">USS_ALG_VFR_CALIB_OPTION_FLOW</span></code></li>
</ul>
</li>
</ul>
</li>
<li>In <code class="docutils literal notranslate"><span class="pre">USS_Config\USS_meterVFRCalibFlow.h</span></code><ul>
<li>Define USS_VFR_METER_CALIB_RANGES<ul>
<li>Min: 1</li>
<li>Max: 16</li>
</ul>
</li>
<li>Define USS_VFR_METER_CALIB_DATA<ul>
<li>iq16minimumVFR must be sorted from lowest to highest value</li>
<li>Number of entries for USS_VFR_METER_CALIB_DATA must match USS_VFR_METER_CALIB_RANGES</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="enabling-vfr-flow-calibration-on-uss-sw-library-configuration-file-earlier-than-2-30">
<h2>Enabling VFR Flow calibration on USS SW Library configuration file earlier than 2_30<a class="headerlink" href="#enabling-vfr-flow-calibration-on-uss-sw-library-configuration-file-earlier-than-2-30" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Replace your projects <code class="docutils literal notranslate"><span class="pre">USS\_Config\USS\_userConfig.c</span></code> with the <code class="docutils literal notranslate"><span class="pre">&lt;USS_SW_LIB_2_30_xx_xx_INSTALL_DIR&gt;\examples\USSSWLib_template_example\USS_Config\USS_userConfig.c</span></code></li>
<li>In your <code class="docutils literal notranslate"><span class="pre">USS_Config\USS_userConfig.h</span></code><ul>
<li>Define under “LIBRARY METER CONFIGURATION” section<ul>
<li><code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">USS_ALG_VFR_CALIB_MODE</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">USS_ALG_VFR_CALIB_OPTION_FLOW</span></code></li>
</ul>
</li>
</ul>
</li>
<li>Copy <code class="docutils literal notranslate"><span class="pre">&lt;USS_SW_LIB_2_30_xx_xx_INSTALL_DIR&gt;\examples\USSSWLib_template_example\USS_Config\USS_meterVFRCalibFlow.h</span></code> in your project USS_Config directory.</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="InterpLUT.html" class="btn btn-neutral float-right" title="Generating Interpolation Correction Look-up table" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="HighFlow.html" class="btn btn-neutral" title="Enabling High Water Flow applications" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2020</a>, Texas Instruments Incorporated. All rights reserved. <br>
      <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'02_40_00_00',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
        });

      var menuHeight = window.innerHeight;

      var contentOffset = $(".wy-nav-content-wrap").offset();
      var contentHeight = $(".wy-nav-content-wrap").height();
      var contentBottom = contentOffset.top + contentHeight;

      function setNavbarTop() {
          var scrollTop = $(window).scrollTop();
          var maxTop = scrollTop + menuHeight;

          // If past the header
          if (scrollTop > contentOffset.top && maxTop < contentBottom) {
            stickyTop = scrollTop - contentOffset.top;
          } else if (maxTop > contentBottom) {
            stickyTop = scrollTop - contentOffset.top - (maxTop - contentBottom);
          } else {
            stickyTop = 0;
          }

          $(".wy-nav-side").css("top", stickyTop);
      }

      $(document).ready(function() {
        setNavbarTop();
        $(window).scroll(function () {
          setNavbarTop();
        });
      });
  </script>
   

</body>
</html>